{
  "Comment": "Submits & manages a batch job's lifecycle",
  "StartAt": "GetBatch",
  "States": {
    "GetBatch": {
        "Type": "Pass",
        "Next": "SubmittedEvent"
    },
    "SubmittedEvent": {
        "Type": "Task",
        "Resource": "arn:aws:states:::events:putEvents",
        "Parameters": {
          "Entries": [
            {
              "EventBusName": "${EventBusName}",
              "Source": "tact.sfn.batch-manager",
              "DetailType": "SFN_BATCH_SUBMITTED",
              "Detail": { "Message": "Test SFN event" }
            }
          ]
        },
        "Next": "PublishResults"
    },
    "PublishResults": {
        "Type": "Pass",
        "End": true
    }
  }
}
